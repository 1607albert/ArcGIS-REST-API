{
	"info": {
		"_postman_id": "b25537a4-49dd-47b8-bfb6-9d27b6e332e3",
		"name": "Hosted Feature Service - ArcGIS",
		"description": "A feature service can contain datasets (for example, tables and views) with or without a spatial column. Datasets with a spatial column are considered layers; those without a spatial column are considered tables. A feature service allows clients to query and edit feature geometry and attributes.\n\n[More info](https://developers.arcgis.com/rest/services-reference/get-started-with-the-services-directory.htm)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Tmp",
			"item": [],
			"protocolProfileBehavior": {}
		},
		{
			"name": "<catalog-url>/<serviceName>/FeatureServer",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{protocol}}://{{host}}/{{instance}}/arcgis/rest/services/{{serviceName}}/FeatureServer?f=pjson",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"{{instance}}",
						"arcgis",
						"rest",
						"services",
						"{{serviceName}}",
						"FeatureServer"
					],
					"query": [
						{
							"key": "f",
							"value": "pjson"
						}
					]
				},
				"description": "This resource provides basic information about the feature service, including the feature layers and tables that it contains, the service description, and so on | [Learn more](https://github.com/esri-es/ArcGIS-REST-API/tree/master/HostedFeatureServices#how-to-get-database-info)."
			},
			"response": []
		},
		{
			"name": "<catalog-url>/<serviceName>/FeatureServer/<layerId>/addFeatures",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "8db454a5-91a7-4046-a8a2-d7bbcd8bb97f",
						"exec": [
							"var protocol = pm.environment.get(\"protocol\");",
							"var portalHost = pm.environment.get(\"portalHost\");",
							"var portalPort = pm.environment.get(\"portalPort\");",
							"var username = pm.environment.get(\"username\");",
							"var password = pm.environment.get(\"password\");",
							"",
							"const echoPostRequest = {",
							"    url:  `${protocol}://${portalHost}:${portalPort}/sharing/rest/generateToken`,",
							"    method: 'POST',",
							"    header: {",
							"        'Accept': 'application/json',",
							"        'Content-Type': 'application/x-www-form-urlencoded'",
							"    },",
							"    body: {",
							"        mode: 'urlencoded',",
							"        urlencoded: [",
							"            {key: \"f\", value: \"json\", disabled: false},",
							"            {key: \"username\", value: username, disabled: false},",
							"            {key: \"password\", value: password, disabled: false},",
							"            {key: \"client\", value: \"referer\", disabled: false},",
							"            {key: \"referer\", value: \"arcgis.com\", disabled: false},",
							"            {key: \"expiration\", value: 21600, disabled: false},",
							"        ]",
							"        ",
							"    }",
							"};",
							"",
							"pm.sendRequest(echoPostRequest, function (err, response) {",
							"    if (err && err.code) { ",
							"        console.log(\"Request error: \", err);",
							"    }else{",
							"        try{",
							"            var res = response.json();",
							"            var token = res.token;",
							"            ",
							"            if(token) {",
							"                pm.environment.set(\"token\", token);",
							"            }",
							"        }catch(e){",
							"            console.log(`Catch error: ${e.message}`);",
							"        }",
							"    }",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "features",
							"value": "[{\"attributes\":{\"field1\":\"value1\",\"field2\":\"value2\"},\"geometry\":{\"x\":\"-3.80704\",\"y\":\"43.46217\"} },{\"attributes\":{\"field1\":\"value1\",\"field2\":\"value2\"},\"geometry\":{\"x\":\"-3.80549\",\"y\":\"43.46242\"}}]",
							"type": "text"
						},
						{
							"key": "token",
							"value": "{{token}}",
							"type": "text"
						},
						{
							"key": "f",
							"value": "json",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{host}}/{{instance}}/arcgis/rest/services/{{serviceName}}/FeatureServer/{{layerId}}/addFeatures",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"{{instance}}",
						"arcgis",
						"rest",
						"services",
						"{{serviceName}}",
						"FeatureServer",
						"{{layerId}}",
						"addFeatures"
					]
				},
				"description": "This operation adds records to the associated feature layer or table | [Learn more](https://github.com/esri-es/ArcGIS-REST-API/tree/master/HostedFeatureServices#add-records)."
			},
			"response": []
		},
		{
			"name": "<root-url>/content/users/<username>/createService",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "0aac531a-8b74-4485-ba86-ee1c87ff2b4c",
						"exec": [
							"var protocol = pm.environment.get(\"protocol\");",
							"var portalHost = pm.environment.get(\"portalHost\");",
							"var portalPort = pm.environment.get(\"portalPort\");",
							"var username = pm.environment.get(\"username\");",
							"var password = pm.environment.get(\"password\");",
							"",
							"const echoPostRequest = {",
							"    url:  `${protocol}://${portalHost}:${portalPort}/sharing/rest/generateToken`,",
							"    method: 'POST',",
							"    header: {",
							"        'Accept': 'application/json',",
							"        'Content-Type': 'application/x-www-form-urlencoded'",
							"    },",
							"    body: {",
							"        mode: 'urlencoded',",
							"        urlencoded: [",
							"            {key: \"f\", value: \"json\", disabled: false},",
							"            {key: \"username\", value: username, disabled: false},",
							"            {key: \"password\", value: password, disabled: false},",
							"            {key: \"client\", value: \"referer\", disabled: false},",
							"            {key: \"referer\", value: \"arcgis.com\", disabled: false},",
							"            {key: \"expiration\", value: 21600, disabled: false},",
							"        ]",
							"        ",
							"    }",
							"};",
							"",
							"pm.sendRequest(echoPostRequest, function (err, response) {",
							"    if (err && err.code) { ",
							"        console.log(\"Request error: \", err);",
							"    }else{",
							"        try{",
							"            var res = response.json();",
							"            var token = res.token;",
							"            ",
							"            if(token) {",
							"                pm.environment.set(\"token\", token);",
							"            }",
							"        }catch(e){",
							"            console.log(`Catch error: ${e.message}`);",
							"        }",
							"    }",
							"});"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "636fea70-c035-477d-868a-a736a6ddbda2",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"tests[\"Feature service created\"] = responseBody.has(\"encodedServiceURL\");",
							"",
							"function extractSubdomain(iCalContent) {",
							"  var rx = /^(?:https?:\\/\\/)?(?:[^@\\/\\n]+@)?(?:www\\.)?([^:\\/\\n]+)/igm;",
							"  var arr = rx.exec(iCalContent);",
							"",
							"  return arr[1]; ",
							"}",
							"",
							"var host = extractSubdomain(jsonData.encodedServiceURL);",
							"postman.setEnvironmentVariable(\"host\", host);",
							"",
							"var instance = jsonData.encodedServiceURL.split(\"/\")[3];",
							"postman.setEnvironmentVariable(\"instance\", instance);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "createParameters",
							"value": "{     \"name\": \"NewFeatureService\",     \"serviceDescription\": \"Description text\",     \"hasStaticData\": false,     \"maxRecordCount\": 1000,     \"supportedQueryFormats\": \"JSON\",     \"capabilities\": \"Create,Delete,Query,Update,Editing\",     \"description\": \"\",     \"copyrightText\": \"\",     \"spatialReference\": {         \"wkid\": 102100     },     \"initialExtent\": {         \"xmin\": -20037507.0671618,         \"ymin\": -30240971.9583862,         \"xmax\": 20037507.0671618,         \"ymax\": 18398924.324645,         \"spatialReference\": {             \"wkid\": 102100,             \"latestWkid\": 3857         }     },     \"allowGeometryUpdates\": true,     \"units\": \"esriMeters\",     \"xssPreventionInfo\": {         \"xssPreventionEnabled\": true,         \"xssPreventionRule\": \"InputOnly\",         \"xssInputRule\": \"rejectInvalid\"     } }",
							"type": "text"
						},
						{
							"key": "targetType",
							"value": "featureService",
							"type": "text"
						},
						{
							"key": "token",
							"value": "{{token}}",
							"type": "text"
						},
						{
							"key": "f",
							"value": "json",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{portalHost}}:{{portalPort}}/sharing/rest/content/users/{{username}}/createService",
					"protocol": "{{protocol}}",
					"host": [
						"{{portalHost}}"
					],
					"port": "{{portalPort}}",
					"path": [
						"sharing",
						"rest",
						"content",
						"users",
						"{{username}}",
						"createService"
					]
				},
				"description": "The Create Service operation allows users to create a hosted feature service. You can use the API to create an empty hosted feature service from a feature service metadata JSON | [Learn more](https://github.com/esri-es/ArcGIS-REST-API/tree/master/HostedFeatureServices#how-to-create-an-empty-database)."
			},
			"response": []
		},
		{
			"name": "<root-url>/content/users/<username>/shareItems",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "fe0623d4-1822-44fb-a700-cd4105ac05f4",
						"exec": [
							"var protocol = pm.environment.get(\"protocol\");",
							"var portalHost = pm.environment.get(\"portalHost\");",
							"var portalPort = pm.environment.get(\"portalPort\");",
							"var username = pm.environment.get(\"username\");",
							"var password = pm.environment.get(\"password\");",
							"",
							"const echoPostRequest = {",
							"    url:  `${protocol}://${portalHost}:${portalPort}/sharing/rest/generateToken`,",
							"    method: 'POST',",
							"    header: {",
							"        'Accept': 'application/json',",
							"        'Content-Type': 'application/x-www-form-urlencoded'",
							"    },",
							"    body: {",
							"        mode: 'urlencoded',",
							"        urlencoded: [",
							"            {key: \"f\", value: \"json\", disabled: false},",
							"            {key: \"username\", value: username, disabled: false},",
							"            {key: \"password\", value: password, disabled: false},",
							"            {key: \"client\", value: \"referer\", disabled: false},",
							"            {key: \"referer\", value: \"arcgis.com\", disabled: false},",
							"            {key: \"expiration\", value: 21600, disabled: false},",
							"        ]",
							"        ",
							"    }",
							"};",
							"",
							"pm.sendRequest(echoPostRequest, function (err, response) {",
							"    if (err && err.code) { ",
							"        console.log(\"Request error: \", err);",
							"    }else{",
							"        try{",
							"            var res = response.json();",
							"            var token = res.token;",
							"            ",
							"            if(token) {",
							"                pm.environment.set(\"token\", token);",
							"            }",
							"        }catch(e){",
							"            console.log(`Catch error: ${e.message}`);",
							"        }",
							"    }",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "account",
							"value": "true"
						},
						{
							"key": "everyone",
							"value": "true"
						},
						{
							"key": "f",
							"value": "json"
						},
						{
							"key": "groups",
							"value": ""
						},
						{
							"key": "items",
							"value": "068bc8d114154820be0112e77a9ec6ef"
						},
						{
							"key": "token",
							"value": "{{token}}"
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{portalHost}}:{{portalPort}}/sharing/rest/content/users/{{username}}/shareItems",
					"protocol": "{{protocol}}",
					"host": [
						"{{portalHost}}"
					],
					"port": "{{portalPort}}",
					"path": [
						"sharing",
						"rest",
						"content",
						"users",
						"{{username}}",
						"shareItems"
					]
				},
				"description": "This operation allows to share a database (including all contained tables) with:\n\n* Everyone, in which case they are publicly accessible\n* With any user in an ArcGIS organization \n* With a list of user groups within ArcGIS. \n\n[Learn more](https://github.com/esri-es/ArcGIS-REST-API/tree/master/HostedFeatureServices#visibility)."
			},
			"response": []
		},
		{
			"name": "<root-url>/content/users/<username>/items/<itemId>/update",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "extent",
							"value": "-180,-58.976,-90,73.136"
						},
						{
							"key": "f",
							"value": "json"
						},
						{
							"key": "snippet",
							"value": ""
						},
						{
							"key": "tags",
							"value": "Data Collection"
						},
						{
							"key": "thumbnailURL",
							"value": "http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/export?size=800,532&bboxSR=4326&format=png24&f=image&bbox=-180,-58.976,-90,73.136"
						},
						{
							"key": "title",
							"value": "My Point Layer"
						},
						{
							"key": "token",
							"value": "{{token}}"
						},
						{
							"key": "typeKeywords",
							"value": "Build a layer,Collector,Data,Feature Service Template,General,Layer,Layer Template,Platform,Service template,Template"
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{portalHost}}:{{portalPort}}/sharing/rest/content/users/{{username}}/items/{{itemId}}/update",
					"protocol": "{{protocol}}",
					"host": [
						"{{portalHost}}"
					],
					"port": "{{portalPort}}",
					"path": [
						"sharing",
						"rest",
						"content",
						"users",
						"{{username}}",
						"items",
						"{{itemId}}",
						"update"
					]
				}
			},
			"response": []
		},
		{
			"name": "<root-url>/portals/<instance>/isServiceNameAvailable",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "77b61f4e-1e88-4c9b-8c55-2721771423f3",
						"exec": [
							"var protocol = pm.environment.get(\"protocol\");",
							"var portalHost = pm.environment.get(\"portalHost\");",
							"var portalPort = pm.environment.get(\"portalPort\");",
							"var username = pm.environment.get(\"username\");",
							"var password = pm.environment.get(\"password\");",
							"",
							"const echoPostRequest = {",
							"    url:  `${protocol}://${portalHost}:${portalPort}/sharing/rest/generateToken`,",
							"    method: 'POST',",
							"    header: {",
							"        'Accept': 'application/json',",
							"        'Content-Type': 'application/x-www-form-urlencoded'",
							"    },",
							"    body: {",
							"        mode: 'urlencoded',",
							"        urlencoded: [",
							"            {key: \"f\", value: \"json\", disabled: false},",
							"            {key: \"username\", value: username, disabled: false},",
							"            {key: \"password\", value: password, disabled: false},",
							"            {key: \"client\", value: \"referer\", disabled: false},",
							"            {key: \"referer\", value: \"arcgis.com\", disabled: false},",
							"            {key: \"expiration\", value: 21600, disabled: false},",
							"        ]",
							"        ",
							"    }",
							"};",
							"",
							"pm.sendRequest(echoPostRequest, function (err, response) {",
							"    if (err && err.code) { ",
							"        console.log(\"Request error: \", err);",
							"    }else{",
							"        try{",
							"            var res = response.json();",
							"            var token = res.token;",
							"            ",
							"            if(token) {",
							"                pm.environment.set(\"token\", token);",
							"            }",
							"        }catch(e){",
							"            console.log(`Catch error: ${e.message}`);",
							"        }",
							"    }",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{protocol}}://{{portalHost}}:{{portalPort}}/sharing/rest/portals/{{instance}}/isServiceNameAvailable?name={{serviceName}}&f=json&token={{token}}&type=Feature Service",
					"protocol": "{{protocol}}",
					"host": [
						"{{portalHost}}"
					],
					"port": "{{portalPort}}",
					"path": [
						"sharing",
						"rest",
						"portals",
						"{{instance}}",
						"isServiceNameAvailable"
					],
					"query": [
						{
							"key": "name",
							"value": "{{serviceName}}"
						},
						{
							"key": "f",
							"value": "json"
						},
						{
							"key": "token",
							"value": "{{token}}"
						},
						{
							"key": "type",
							"value": "Feature Service"
						}
					]
				},
				"description": "Checks whether a given service name and type are available for publishing a new service. true indicates that the name and type is not found in the organization's services and is available for publishing. false means the requested name and type are not available | [Learn more](https://github.com/esri-es/ArcGIS-REST-API/tree/master/HostedFeatureServices#how-to-check-if-a-database-exists)."
			},
			"response": []
		},
		{
			"name": "<admin-catalog-url>/<serviceName>/FeatureServer/addToDefinition",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d3f0c54b-788e-4821-b0ca-fd9d3525ae3c",
						"exec": [
							"var protocol = pm.environment.get(\"protocol\");",
							"var portalHost = pm.environment.get(\"portalHost\");",
							"var portalPort = pm.environment.get(\"portalPort\");",
							"var username = pm.environment.get(\"username\");",
							"var password = pm.environment.get(\"password\");",
							"",
							"const echoPostRequest = {",
							"    url:  `${protocol}://${portalHost}:${portalPort}/sharing/rest/generateToken`,",
							"    method: 'POST',",
							"    header: {",
							"        'Accept': 'application/json',",
							"        'Content-Type': 'application/x-www-form-urlencoded'",
							"    },",
							"    body: {",
							"        mode: 'urlencoded',",
							"        urlencoded: [",
							"            {key: \"f\", value: \"json\", disabled: false},",
							"            {key: \"username\", value: username, disabled: false},",
							"            {key: \"password\", value: password, disabled: false},",
							"            {key: \"client\", value: \"referer\", disabled: false},",
							"            {key: \"referer\", value: \"arcgis.com\", disabled: false},",
							"            {key: \"expiration\", value: 21600, disabled: false},",
							"        ]",
							"        ",
							"    }",
							"};",
							"",
							"pm.sendRequest(echoPostRequest, function (err, response) {",
							"    if (err && err.code) { ",
							"        console.log(\"Request error: \", err);",
							"    }else{",
							"        try{",
							"            var res = response.json();",
							"            var token = res.token;",
							"            ",
							"            if(token) {",
							"                pm.environment.set(\"token\", token);",
							"            }",
							"        }catch(e){",
							"            console.log(`Catch error: ${e.message}`);",
							"        }",
							"    }",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "addToDefinition",
							"value": "{\"layers\":[{\"currentVersion\":10.51,\"id\":0,\"name\":\"Standalone_table\",\"type\":\"Table\",\"displayField\":\"\",\"description\":\"\",\"copyrightText\":\"\",\"defaultVisibility\":true,\"editingInfo\":{\"lastEditDate\":null},\"relationships\":[],\"isDataVersioned\":false,\"supportsAppend\":true,\"supportsCalculate\":true,\"supportsASyncCalculate\":true,\"supportsTruncate\":true,\"supportsAttachmentsByUploadId\":true,\"supportsAttachmentsResizing\":true,\"supportsRollbackOnFailureParameter\":true,\"supportsStatistics\":true,\"supportsExceedsLimitStatistics\":true,\"supportsAdvancedQueries\":true,\"supportsValidateSql\":true,\"supportsCoordinatesQuantization\":true,\"supportsFieldDescriptionProperty\":true,\"supportsQuantizationEditMode\":true,\"supportsApplyEditsWithGlobalIds\":false,\"advancedQueryCapabilities\":{\"supportsPagination\":true,\"supportsPaginationOnAggregatedQueries\":true,\"supportsQueryRelatedPagination\":true,\"supportsQueryWithDistance\":true,\"supportsReturningQueryExtent\":true,\"supportsStatistics\":true,\"supportsOrderBy\":true,\"supportsDistinct\":true,\"supportsQueryWithResultType\":true,\"supportsSqlExpression\":true,\"supportsAdvancedQueryRelated\":true,\"supportsCountDistinct\":true,\"supportsLod\":true,\"supportsQueryWithLodSR\":false,\"supportedLodTypes\":[\"geohash\"],\"supportsReturningGeometryCentroid\":false,\"supportsQueryWithDatumTransformation\":true,\"supportsHavingClause\":true,\"supportsOutFieldSQLExpression\":true,\"supportsMaxRecordCountFactor\":true,\"supportsTopFeaturesQuery\":true,\"supportsQueryWithCacheHint\":true},\"useStandardizedQueries\":true,\"allowGeometryUpdates\":true,\"hasAttachments\":false,\"htmlPopupType\":\"esriServerHTMLPopupTypeNone\",\"hasM\":false,\"hasZ\":false,\"objectIdField\":\"ObjectId\",\"uniqueIdField\":{\"name\":\"ObjectId\",\"isSystemMaintained\":true},\"globalIdField\":\"\",\"typeIdField\":\"\",\"fields\":[{\"name\":\"Start_Date\",\"type\":\"esriFieldTypeDate\",\"actualType\":\"datetime2\",\"alias\":\"Start Date\",\"sqlType\":\"sqlTypeTimestamp2\",\"length\":8,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Start_Time\",\"type\":\"esriFieldTypeDate\",\"actualType\":\"datetime2\",\"alias\":\"Start Time\",\"sqlType\":\"sqlTypeTimestamp2\",\"length\":8,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"End_Date\",\"type\":\"esriFieldTypeDate\",\"actualType\":\"datetime2\",\"alias\":\"End Date\",\"sqlType\":\"sqlTypeTimestamp2\",\"length\":8,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"End_Time\",\"type\":\"esriFieldTypeDate\",\"actualType\":\"datetime2\",\"alias\":\"End Time\",\"sqlType\":\"sqlTypeTimestamp2\",\"length\":8,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Event_Title\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"Event Title\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"All_Day_Event\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"All Day Event\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"No_End_Time\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"No End Time\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Event_Description\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"Event Description\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Contact\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"Contact\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Contact_Email\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"Contact Email\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Contact_Phone\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"Contact Phone\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Location\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"Location\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Category\",\"type\":\"esriFieldTypeInteger\",\"actualType\":\"int\",\"alias\":\"Category\",\"sqlType\":\"sqlTypeInteger\",\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Mandatory\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"Mandatory\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Registration\",\"type\":\"esriFieldTypeString\",\"actualType\":\"nvarchar\",\"alias\":\"Registration\",\"sqlType\":\"sqlTypeNVarchar\",\"length\":256,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Maximum\",\"type\":\"esriFieldTypeInteger\",\"actualType\":\"int\",\"alias\":\"Maximum\",\"sqlType\":\"sqlTypeInteger\",\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"Last_Date_To_Register\",\"type\":\"esriFieldTypeDate\",\"actualType\":\"datetime2\",\"alias\":\"Last Date To Register\",\"sqlType\":\"sqlTypeTimestamp2\",\"length\":8,\"nullable\":true,\"editable\":true,\"visible\":true,\"domain\":null,\"defaultValue\":null},{\"name\":\"ObjectId\",\"type\":\"esriFieldTypeOID\",\"actualType\":\"int\",\"alias\":\"ObjectId\",\"sqlType\":\"sqlTypeInteger\",\"nullable\":false,\"editable\":false,\"visible\":true,\"domain\":null,\"defaultValue\":null}],\"indexes\":[{\"name\":\"PK__STANDALO__9A6192912565F964\",\"fields\":\"ObjectId\",\"isAscending\":true,\"isUnique\":true,\"description\":\"clustered, unique, primary key\"}],\"types\":[],\"templates\":[],\"supportedQueryFormats\":\"JSON, geoJSON, PBF\",\"hasStaticData\":true,\"maxRecordCount\":2000,\"standardMaxRecordCount\":32000,\"tileMaxRecordCount\":8000,\"maxRecordCountFactor\":1,\"capabilities\":\"Query\"}]}"
						},
						{
							"key": "f",
							"value": "json"
						},
						{
							"key": "token",
							"value": "{{token}}"
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{host}}/{{instance}}/arcgis/rest/admin/services/{{serviceName}}/FeatureServer/addToDefinition",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"{{instance}}",
						"arcgis",
						"rest",
						"admin",
						"services",
						"{{serviceName}}",
						"FeatureServer",
						"addToDefinition"
					]
				},
				"description": "This operation supports adding a definition property to a hosted feature service. The result of this operation is a response indicating success or failure with error code and description | [Learn more](https://github.com/esri-es/ArcGIS-REST-API/tree/master/HostedFeatureServices#create-a-table)."
			},
			"response": []
		},
		{
			"name": "<admin-catalog-url>/<serviceName>/FeatureServer/updateDefinition",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "13d35a19-743c-4bbf-82a3-2398869e698b",
						"exec": [
							"var protocol = pm.environment.get(\"protocol\");",
							"var portalHost = pm.environment.get(\"portalHost\");",
							"var portalPort = pm.environment.get(\"portalPort\");",
							"var username = pm.environment.get(\"username\");",
							"var password = pm.environment.get(\"password\");",
							"",
							"const echoPostRequest = {",
							"    url:  `${protocol}://${portalHost}:${portalPort}/sharing/rest/generateToken`,",
							"    method: 'POST',",
							"    header: {",
							"        'Accept': 'application/json',",
							"        'Content-Type': 'application/x-www-form-urlencoded'",
							"    },",
							"    body: {",
							"        mode: 'urlencoded',",
							"        urlencoded: [",
							"            {key: \"f\", value: \"json\", disabled: false},",
							"            {key: \"username\", value: username, disabled: false},",
							"            {key: \"password\", value: password, disabled: false},",
							"            {key: \"client\", value: \"referer\", disabled: false},",
							"            {key: \"referer\", value: \"arcgis.com\", disabled: false},",
							"            {key: \"expiration\", value: 21600, disabled: false},",
							"        ]",
							"        ",
							"    }",
							"};",
							"",
							"pm.sendRequest(echoPostRequest, function (err, response) {",
							"    if (err && err.code) { ",
							"        console.log(\"Request error: \", err);",
							"    }else{",
							"        try{",
							"            var res = response.json();",
							"            var token = res.token;",
							"            ",
							"            if(token) {",
							"                pm.environment.set(\"token\", token);",
							"            }",
							"        }catch(e){",
							"            console.log(`Catch error: ${e.message}`);",
							"        }",
							"    }",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "async",
							"value": "true"
						},
						{
							"key": "f",
							"value": "json"
						},
						{
							"key": "token",
							"value": "{{token}}"
						},
						{
							"key": "updateDefinition",
							"value": "{\"capabilities\":\"Query\",\"hasStaticData\":true,\"editorTrackingInfo\":{\"enableEditorTracking\":false,\"enableOwnershipAccessControl\":false,\"allowOthersToUpdate\":true,\"allowOthersToDelete\":true,\"allowOthersToQuery\":true,\"allowAnonymousToUpdate\":true,\"allowAnonymousToDelete\":true}}"
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{host}}/{{instance}}/arcgis/rest/admin/services/{{serviceName}}/FeatureServer/updateDefinition",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"{{instance}}",
						"arcgis",
						"rest",
						"admin",
						"services",
						"{{serviceName}}",
						"FeatureServer",
						"updateDefinition"
					]
				},
				"description": "This operation allows us to change who is able to edit the service, who can do what, if we want to keep track of who created and updated records and when, manage spatial indexes, enable cache (CDN), and manage if export data is publicly for everyone. The result of this operation is a response indicating success or failure with error code and description | [Learn more](https://github.com/esri-es/ArcGIS-REST-API/tree/master/HostedFeatureServices#edition-manage-indexes-cache-control-and-allow-export-data)."
			},
			"response": []
		},
		{
			"name": "<admin-catalog-url>/<serviceName>/FeatureServer/deleteFromDefinition",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "6a88a47b-6a55-45f5-9a39-527673e6f0ad",
						"exec": [
							"var protocol = pm.environment.get(\"protocol\");",
							"var portalHost = pm.environment.get(\"portalHost\");",
							"var portalPort = pm.environment.get(\"portalPort\");",
							"var username = pm.environment.get(\"username\");",
							"var password = pm.environment.get(\"password\");",
							"",
							"const echoPostRequest = {",
							"    url:  `${protocol}://${portalHost}:${portalPort}/sharing/rest/generateToken`,",
							"    method: 'POST',",
							"    header: {",
							"        'Accept': 'application/json',",
							"        'Content-Type': 'application/x-www-form-urlencoded'",
							"    },",
							"    body: {",
							"        mode: 'urlencoded',",
							"        urlencoded: [",
							"            {key: \"f\", value: \"json\", disabled: false},",
							"            {key: \"username\", value: username, disabled: false},",
							"            {key: \"password\", value: password, disabled: false},",
							"            {key: \"client\", value: \"referer\", disabled: false},",
							"            {key: \"referer\", value: \"arcgis.com\", disabled: false},",
							"            {key: \"expiration\", value: 21600, disabled: false},",
							"        ]",
							"        ",
							"    }",
							"};",
							"",
							"pm.sendRequest(echoPostRequest, function (err, response) {",
							"    if (err && err.code) { ",
							"        console.log(\"Request error: \", err);",
							"    }else{",
							"        try{",
							"            var res = response.json();",
							"            var token = res.token;",
							"            ",
							"            if(token) {",
							"                pm.environment.set(\"token\", token);",
							"            }",
							"        }catch(e){",
							"            console.log(`Catch error: ${e.message}`);",
							"        }",
							"    }",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "async",
							"value": "false"
						},
						{
							"key": "deleteFromDefinition",
							"value": "{\n  \"layers\" : [\n    {\n      \"id\" : \"3\"\n    }\n  ]\n}"
						},
						{
							"key": "f",
							"value": "json"
						},
						{
							"key": "token",
							"value": "{{token}}"
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{host}}/{{instance}}/arcgis/rest/admin/services/{{serviceName}}/FeatureServer/deleteFromDefinition",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"{{instance}}",
						"arcgis",
						"rest",
						"admin",
						"services",
						"{{serviceName}}",
						"FeatureServer",
						"deleteFromDefinition"
					]
				},
				"description": "This operation supports deleting a definition property from a hosted feature service. For example we can remove a table from the database. The result of this operation is a response indicating success or failure with error code and description | [Learn more](https://github.com/esri-es/ArcGIS-REST-API/tree/master/HostedFeatureServices#remove-a-table)."
			},
			"response": []
		},
		{
			"name": "<admin-catalog-url>/<serviceName>/FeatureServer/<layerId>/addToDefinition",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "74262687-cf39-4070-a40f-2bb0ce07136d",
						"exec": [
							"var protocol = pm.environment.get(\"protocol\");",
							"var portalHost = pm.environment.get(\"portalHost\");",
							"var portalPort = pm.environment.get(\"portalPort\");",
							"var username = pm.environment.get(\"username\");",
							"var password = pm.environment.get(\"password\");",
							"",
							"const echoPostRequest = {",
							"    url:  `${protocol}://${portalHost}:${portalPort}/sharing/rest/generateToken`,",
							"    method: 'POST',",
							"    header: {",
							"        'Accept': 'application/json',",
							"        'Content-Type': 'application/x-www-form-urlencoded'",
							"    },",
							"    body: {",
							"        mode: 'urlencoded',",
							"        urlencoded: [",
							"            {key: \"f\", value: \"json\", disabled: false},",
							"            {key: \"username\", value: username, disabled: false},",
							"            {key: \"password\", value: password, disabled: false},",
							"            {key: \"client\", value: \"referer\", disabled: false},",
							"            {key: \"referer\", value: \"arcgis.com\", disabled: false},",
							"            {key: \"expiration\", value: 21600, disabled: false},",
							"        ]",
							"        ",
							"    }",
							"};",
							"",
							"pm.sendRequest(echoPostRequest, function (err, response) {",
							"    if (err && err.code) { ",
							"        console.log(\"Request error: \", err);",
							"    }else{",
							"        try{",
							"            var res = response.json();",
							"            var token = res.token;",
							"            ",
							"            if(token) {",
							"                pm.environment.set(\"token\", token);",
							"            }",
							"        }catch(e){",
							"            console.log(`Catch error: ${e.message}`);",
							"        }",
							"    }",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "addToDefinition",
							"value": "{     \"layers\": [         {             \"name\": \"Set_a_Layer_Name\",             \"type\": \"Feature Layer\",             \"geometryType\": \"esriGeometryPoint\",             \"extent\": {                 \"type\": \"extent\",                 \"xmin\": -17.70518418985952,                 \"ymin\": 29.007108442849102,                 \"xmax\": 3.871964247634747,                 \"ymax\": 42.65733404196801,                 \"spatialReference\": {                     \"wkid\": 4326                 }             },             \"drawingInfo\": {                 \"renderer\": {                     \"type\": \"simple\",                     \"symbol\": {                         \"type\": \"esriPMS\",                         \"url\": \"gray_large_blank.png\",                         \"contentType\": \"image/png\",                         \"width\": 29.25,                         \"height\": 37.5,                         \"xoffset\": 0,                         \"yoffset\": 11.75,                         \"angle\": 0,                         \"imageData\": \"iVBORw0KGgoAAAANSUhEUgAAACEAAAAvCAYAAABt7qMfAAAEEElEQVRYR8VY21HjWBDt1svYBkpQBODJYMjAZMBmMP6x8NfORsAQwc5+GenHk8GQAWQAGUAAFHbxsLEe924draSSbdm6NjKrL5cl3Xt0+nT36cu0xtXv91uapv3JzF+llO35V5n5Rkp5J4T4p9frPaguzSoP9vv9tq7r59hY13Xa2dkhy7JI07TsdSEE+b5P7+/vFEURAVAURRe9Xu+mbI+VIAaDge37/jkRfceme3t78eZlF4C8vb3FoIjop2VZF51OZ7TsvaUgPM8D5QNN077u7u5So9Eo23vh/ng8ptfXVxJC3DFzp9vt3hUtUggiAXBtmqZt2zYhBJteCM1oNKIgCEbMfFIEZAFECsAwDPvw8BCx3XT/7D0pJT09PVEYhoVAZnZINHBrGEbr4OBgRngfRQLhDodDAHmwLOs4r5EZEJ7nXRNR++joqBIG5oGDkcfHR/x90+12T9L7GQjXdb8T0d/QgEoGbMoMMgYaIaK/HMf5iR8xiCQM9/V63UYmbPtCxkwmk5FlWV8QlhiE67o/mPm8KiGWfUQqVCnlheM4PzhlodFo2JvUgrINl91HDRmPxzEb7HneN0QE2VBFOqqCAhvIFiLqsOu6v2u12ulnaGEeILQxnU6vAGLYbDbtWq2m+hGVPTedTtFjRgAh0ZhM06xscdWFgiCgl5cXykAYhqH6bmXPhWGYgRgiM/6vcCBDYmGapnnabDYr+0LVheA5giC4ilMUvmF/f//TU/T5+Rl7dtKKOUTJ3mbPmGcHPQSl23GcgxjE5eXlwDCMb58ZEoQiDMNfZ2dn/zGRGJlblO3PyBJkBco2Mx/DaWWtHF7CMIw2nPS2LxjhMAwzT5EHEQsUIclb+aoBwWEhFInx/ZX5iXQj13XvTdNsbbNmoFQHQfDgOM6XBWeVaCNjo2oG0vXmWVhgIjE495ZltbbRS9ArfN+fYWEZiNhl1ev1ysmYTCaUuqn84gtDReq0MPhUyQZYwACU+sqVIJKQxGxAoFW4LbgoCLKIhcJw4M/8EFQFGyjRURQtDD2F2ZGnKG1sH2UjZSFfF+bFtnLQRN3Qdb31kVKOEg0W8nVhLRApG+ium2gDLCAUq1hYqom5sFwzc3sTNsCClHJm7izK+9K5H0dFmqbhrGItNsAC0lIIcVJ2ZFQKIknZ38x8ug4bCQtXjuP8UVb1lEAkp3a3mqbZKqc2OJ0RQoyEEMcqp3hKINICRkTnKmyABSKKh90yFpSEmS6SFjBmbq1iAyxIKZcWpo2EmX8pFSlMT1HKQowwLSpiLO0dqyjEnEJEp0XuCwCISEmMHwKRdllmtvNsgAUpZWGXLNOFsjCLwjIPYt0wlDawMvQ4YkK25J5Tzoa1ekcZEAxNzAxfGg8xZc8vu/8v7ylSk0iCl+sAAAAASUVORK5CYII=\"                     },                     \"label\": \"\",                     \"description\": \"\"                 },                 \"transparency\": 0,                 \"labelingInfo\": null             },             \"objectIdField\": \"OBJECTID\",             \"fields\": [                 {                     \"name\": \"OBJECTID\",                     \"type\": \"esriFieldTypeOID\",                     \"alias\": \"OBJECTID\",                     \"sqlType\": \"sqlTypeOther\",                     \"nullable\": false,                     \"editable\": false,                     \"domain\": null,                     \"defaultValue\": null                 },                 {                     \"name\": \"Speed\",                     \"type\": \"esriFieldTypeDouble\",                     \"alias\": \"Speed\",                     \"sqlType\": \"sqlTypeNVarchar\",                     \"nullable\": true,                     \"editable\": true,                     \"domain\": null,                     \"defaultValue\": null,                     \"length\": 256                 },                 {                     \"name\": \"Date\",                     \"type\": \"esriFieldTypeDate\",                     \"alias\": \"Date of the fine\",                     \"sqlType\": \"sqlTypeNVarchar\",                     \"nullable\": true,                     \"editable\": true,                     \"domain\": null,                     \"defaultValue\": null,                     \"length\": 256                 },                 {                     \"name\": \"License\",                     \"type\": \"esriFieldTypeString\",                     \"alias\": \"License number\",                     \"sqlType\": \"sqlTypeNVarchar\",                     \"nullable\": true,                     \"editable\": true,                     \"domain\": null,                     \"defaultValue\": null,                     \"length\": 256                 }             ],             \"templates\": [                 {                     \"name\": \"New Feature\",                     \"description\": \"\",                     \"drawingTool\": \"esriFeatureEditToolPoint\",                     \"prototype\": {                         \"attributes\": {                             \"Speed\": null,                             \"Date\": null,                             \"License\": null                         }                     }                 }             ],             \"supportedQueryFormats\": \"JSON\",             \"hasStaticData\": false,             \"maxRecordCount\": 10000,             \"capabilities\": \"Query,Editing,Create,Update,Delete\"         }     ] }",
							"type": "text"
						},
						{
							"key": "token",
							"value": "{{token}}",
							"type": "text"
						},
						{
							"key": "f",
							"value": "json",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{host}}/{{instance}}/rest/admin/services/{{serviceName}}/FeatureServer/{{layerId}}/addToDefinition",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"{{instance}}",
						"rest",
						"admin",
						"services",
						"{{serviceName}}",
						"FeatureServer",
						"{{layerId}}",
						"addToDefinition"
					]
				},
				"description": "This operation supports adding a definition property in a hosted feature service layer. The result of this operation is a response indicating success or a response indicating failure with an error code and description. [Read full documentation](https://developers.arcgis.com/rest/services-reference/add-to-definition-feature-layer-.htm)."
			},
			"response": []
		},
		{
			"name": "<admin-catalog-url>/<serviceName>/FeatureServer/<layerId>/updateDefinition",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "async",
							"value": "false"
						},
						{
							"key": "f",
							"value": "json"
						},
						{
							"key": "token",
							"value": "{{token}}"
						},
						{
							"key": "updateDefinition",
							"value": "{\"name\":\"Point layer - new name\"}"
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{host}}/{{instance}}/arcgis/rest/admin/services/{{serviceName}}/FeatureServer/{{layerId}}/updateDefinition",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"{{instance}}",
						"arcgis",
						"rest",
						"admin",
						"services",
						"{{serviceName}}",
						"FeatureServer",
						"{{layerId}}",
						"updateDefinition"
					]
				},
				"description": "The updateDefinition operation supports updating a definition property in a feature service layer. This will allow us for example to change name of the table/layer. The result of this operation is a response indicating success or failure with error code and description | [Learn more](https://github.com/esri-es/ArcGIS-REST-API/tree/master/HostedFeatureServices#change-a-table-name)"
			},
			"response": []
		}
	],
	"protocolProfileBehavior": {}
}